
<DIV>
<H1><A name=_Toc250982853></A><A name=_Toc178252788></A><A name=_Toc146560036></A><A name=_Toc140307704>1. Introduction</A> 
<P></P></H1>
<H2><A name=_Toc250982854></A><A name=_Toc178252789></A><A name=_Toc146560037>1.1. Document Background</A> 
<P></P></H2>
<H3><A name=_Toc250982855></A><A name=_Toc178252790></A><A name=_Toc146560038>1.1.1. Purpose of Document</A> 
<P></P></H3>
<P>
<P></P>
<P></P>
<P>The purpose of this document is to explain Helio Query Service Property File. 
<P></P>
<P></P>
<P>
<P></P>
<P></P>
<P>This document is intended for HELIO IT team members responsible for deployment and configuration of HELIO Query Service. 
<P></P>
<P></P>
<H3><A name=_Toc250982857>1.1.2. Assumptions Dependencies and Constrains</A> 
<P></P></H3>
<P><STRONG>
<P></P></STRONG>
<P></P>
<P>1. Access URL and Format is presently hard coded; which in future will be dynamic. 
<P></P>
<P></P>
<P>2. Access URL should be first column in VOTABLE; Similarly Format should be last column defined in VOTABLE. 
<P></P>
<P></P>
<P>3. In Release 1 we are testing this service with HEC. 
<P></P>
<P></P>
<H3><A name=_Toc250982858>1.1.3. Reference Documents</A> 
<P></P></H3>
<P>
<P></P>
<P></P>
<H3><A name=_Toc250982859>1.1.4. Document Control</A> 
<P></P></H3>
<P>
<P></P>
<P></P>
<H3><A name=_Toc250982860></A><A name=_Toc126645546></A><A name=_Toc126644470></A><A name=_Toc126643771></A><A name=_Toc126642969></A><A name=_Toc126642708>1.1.5. Abbreviation Used</A> 
<P></P></H3>
<P>1. HEC : Helio Event Catalogue Service. </P>
<P></P>
<H2><A name=_Toc250982861></A><A name=_Toc185690014>2. </A>Helio Query Service Property File 
<P></P></H2>
<P>
<P></P>
<P></P>
<P>
<P></P>
<P></P>
<P><STRONG>jdbc.driver</STRONG> =com.mysql.jdbc.Driver 
<P></P>
<P></P>
<P><STRONG>jdbc.url</STRONG> =jdbc:mysql://example.test:3306/Test 
<P></P>
<P></P>
<P><STRONG>jdbc.user</STRONG> =xxxxxx 
<P></P>
<P></P>
<P><STRONG>jdbc.password</STRONG> =xxxxxx 
<P></P>
<P></P>
<P>
<P></P>
<P></P>
<P><STRONG>sql.query</STRONG> =select * from INSTRUEMNTS where START_DATE between 
<P></P>
<P></P>
<P><STRONG>sql.query.constraint</STRONG> =and INS_ID like '%[:kwinstrument:]%' ORDER BY INS_START_DATE 
<P></P>
<P></P>
<P>
<P></P>
<P></P>
<P>#Access URL should always be first in VOTABLE and Format always last in VOTable. <STRONG>
<P></P></STRONG>
<P></P>
<P><STRONG>
<P></P></STRONG>
<P></P>
<P><STRONG>sql.columnnames</STRONG> =ACCESS_URL<STRONG>::</STRONG>INS_ID<STRONG>::</STRONG>FORMAT 
<P></P>
<P></P>
<P>
<P></P>
<P></P>
<P><STRONG>sql.columndesc</STRONG> =Url Pointing to Data File<STRONG>::</STRONG>Instrument Short Name<STRONG>::</STRONG>Format 
<P></P>
<P></P>
<P>
<P></P>
<P></P>
<P><STRONG>sql.columnucd</STRONG> =VOX: AccessReference<STRONG>::</STRONG>ucd.ins.insid<STRONG>::</STRONG>VOX:Format 
<P></P>
<P></P>
<P>
<P></P>
<P></P>
<P><STRONG>sql.votable.head.desc</STRONG> =Helio ICS time based query 
<P></P>
<P></P>
<P><STRONG>sql.votable.accesurl</STRONG> =http://localhost:8080/HelioQueryService/HelioQueryService 
<P></P>
<P></P>
<P><STRONG>sql.votable.format</STRONG> =GRAPHICS 
<P></P>
<P></P>
<P></P>
<H2><A name=_Toc250982862>3. Property File Element Description</A> 
<P></P></H2>
<P></P>
<TABLE cellSpacing=0 cellPadding=0 border=1>
<TBODY>
<TR>
<TD vAlign=top width=295>
<P><STRONG>jdbc.driver</STRONG> 
<P></P>
<P></P></TD>
<TD vAlign=top width=295>
<P>JDBC driver name. 
<P></P>
<P></P></TD></TR>
<TR>
<TD vAlign=top width=295>
<P><STRONG>jdbc.url</STRONG> 
<P></P>
<P></P></TD>
<TD vAlign=top width=295>
<P>JDBC Url with database name. 
<P></P>
<P></P></TD></TR>
<TR>
<TD vAlign=top width=295>
<P><STRONG>jdbc.user</STRONG> 
<P></P>
<P></P></TD>
<TD vAlign=top width=295>
<P>Database User Name. 
<P></P>
<P></P></TD></TR>
<TR>
<TD vAlign=top width=295>
<P><STRONG>jdbc.password</STRONG> 
<P></P>
<P></P></TD>
<TD vAlign=top width=295>
<P>Database password. 
<P></P>
<P></P></TD></TR>
<TR>
<TD vAlign=top width=295>
<P><STRONG>sql.query</STRONG> 
<P></P>
<P></P></TD>
<TD vAlign=top width=295>
<P>SQL query string with time constraint. 
<P></P>
<P></P></TD></TR>
<TR>
<TD vAlign=top width=295>
<P><STRONG>sql.query.constraint</STRONG> 
<P></P>
<P></P></TD>
<TD vAlign=top width=295>
<P>SQL constrain query (Where clause). 
<P></P>
<P></P></TD></TR>
<TR>
<TD vAlign=top width=295>
<P><STRONG>sql.columnnames</STRONG> 
<P></P>
<P></P></TD>
<TD vAlign=top width=295>
<P>VOTABLE column names (Included ACCESS URL and FORMAT; See assumption for more details). Seperated by "<STRONG>::</STRONG>" . 
<P></P>
<P></P></TD></TR>
<TR>
<TD vAlign=top width=295>
<P><STRONG>sql.columndesc</STRONG> 
<P></P>
<P></P></TD>
<TD vAlign=top width=295>
<P>VOTable column description.&nbsp; Seperated by <STRONG>::</STRONG> . 
<P></P>
<P></P></TD></TR>
<TR>
<TD vAlign=top width=295>
<P><STRONG>sql.columnucd</STRONG> 
<P></P>
<P></P></TD>
<TD vAlign=top width=295>
<P>VOTable column UCD names.&nbsp; Seperated by <STRONG>::</STRONG> . 
<P></P>
<P></P></TD></TR>
<TR>
<TD vAlign=top width=295>
<P><STRONG>sql.votable.head.desc</STRONG> 
<P></P>
<P></P></TD>
<TD vAlign=top width=295>
<P>VOTable heading (Description of heading). 
<P></P>
<P></P></TD></TR>
<TR>
<TD vAlign=top width=295>
<P><STRONG>sql.votable.accesurl</STRONG> 
<P></P>
<P></P></TD>
<TD vAlign=top width=295>
<P>Hardcoded Access URL for VOTABLE. 
<P></P>
<P></P></TD></TR>
<TR>
<TD vAlign=top width=295>
<P><STRONG>sql.votable.format</STRONG> 
<P></P>
<P></P></TD>
<TD vAlign=top width=295>
<P>Hardcoded Format. 
<P></P>
<P></P></TD></TR></TBODY></TABLE>
<P>
<P></P>
<P></P>
<H2>5. Configuration of property file per context 
<P></P></H2>
<P>Bellow is the steps to be followed to configure property file per context. 
<P></P>
<P></P>
<P>
<P></P>
<P></P>
<P>1. Add &nbsp;Resource&gt; tag inside &nbsp;context&gt; tag. As shown bellow 
<P></P>
<P></P>
<P>&nbsp;Resource name=<EM>property/context</EM> auth=<EM>Container</EM> 
<P></P>
<P></P>
<P>type=<EM>java.lang.String</EM> 
<P></P>
<P></P>
<P>factory=<EM>com.org.helio.common.util.BeanFactory</EM> 
<P></P>
<P></P>
<P>propertyValue=<EM>C:/log/helio.txt</EM>/&nbsp; 
<P></P>
<P></P>
<P>2. In the above &nbsp;Resource&nbsp; tag you can see a factory element referring to a Bean Factory class. Code for retrieving property Value is implemented in this class. 
<P></P>
<P></P>
<P>3. “propertyValue” element in &nbsp;Resource&nbsp; tag is the actual path of the property file. When I say “path” it is path appended with file name as shown. 
<P></P>
<P></P>
<P>4. “type” element in &nbsp;Resource&nbsp; tag defines the return type which is a String in our case. 
<P></P>
<P></P>
<P>5. If you are configuring in Tomcat server, &nbsp;Resource&nbsp; tag should be included in server.xml under &nbsp;context&nbsp; tag. 
<P></P>
<P></P>
<P>
<P></P>
<P></P>
<P>
<P></P>
<P></P>
<P>
<P></P>
<P></P>
<P></P>
<P></P></DIV>

